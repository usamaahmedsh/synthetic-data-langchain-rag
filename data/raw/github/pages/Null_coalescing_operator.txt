The null coalescing operator is a binary operator that is part of the syntax for a basic conditional expression in several programming languages, such as (in alphabetical order): C# since version 2.0, Dart since version 1.12.0, PHP since version 7.0.0, Perl since version 5.10 as logical defined-or, PowerShell since 7.0.0, and Swift as nil-coalescing operator. It is most commonly written as x ?? y, but varies across programming languages.
While its behavior differs between implementations, the null coalescing operator generally returns the result of its left-most operand if it exists and is not null, and otherwise returns the right-most operand.  This behavior allows a default value to be defined for cases where a more specific value is not available.
Like the binary Elvis operator, usually written as x ?: y, the null coalescing operator is a short-circuiting operator and thus does not evaluate the second operand if its value is not used, which is significant if its evaluation has side-effects.


== Examples by languages ==


=== Bourne-like shells ===
In Bourne shell (and derivatives), "If parameter is unset or null, the expansion of word is substituted. Otherwise, the value of parameter is substituted":


=== C# ===
In C#, the null coalescing operator is ??.
It is most often used to simplify expressions as follows:

For example, if one wishes to implement some C# code to give a page a default title if none is present, one may use the following statement:

instead of the more verbose

or

The three forms result in the same value being stored into the variable named pageTitle.
suppliedTitle is referenced only once when using the ?? operator, and twice in the other two code examples.
The operator can also be used multiple times in the same expression: 

 
Once a non-null value is assigned to number, or it reaches the final value (which may or may not be null), the expression is completed.
If, for example, a variable should be changed to another value if its value evaluates to null, since C# 8.0 the ??= null coalescing assignment operator can be used:

Which is a more concise version of:

In combination with the null-conditional operator ?. or the null-conditional element access operator ?[] the null coalescing operator can be used to provide a default value if an object or an object's member is null. For example, the following will return the default title if either the page object is null or page is not null but its Title property is:


=== CFML ===
As of ColdFusion 11, Railo 4.1, CFML supports the null coalescing operator as a variation of the ternary operator, ?:. It is functionally and syntactically equivalent to its C# counterpart, above. Example:


=== Freemarker ===
Missing values in Apache FreeMarker will normally cause exceptions. However, both missing and null values can be handled, with an optional default value:

or, to leave the output blank:


=== JavaScript ===
JavaScript's nearest operator is ??, the "nullish coalescing operator", which was added to the standard in ECMAScript's 11th edition. In earlier versions, it could be used via a Babel plugin, and in TypeScript. It evaluates its left-hand operand and, if the result value is not "nullish" (null or undefined), takes that value as its result; otherwise, it evaluates the right-hand operand and takes the resulting value as its result.
In the following example, a will be assigned the value of b if the value of b is not null or undefined, otherwise it will be assigned 3.

Before the nullish coalescing operator, programmers would use the logical OR operator (||). But where ?? looks specifically for null or undefined, the || operator looks for any falsy value: null, undefined, "", 0, NaN, and of course, false.
In the following example, a will be assigned the value of b if the value of b is truthy, otherwise it will be assigned 3.


=== Kotlin ===
Kotlin uses the ?: operator. This is an unusual choice of symbol, given that ?: is typically used for the Elvis operator, not null coalescing, but it was inspired by Groovy (programming language) where null is considered false.


=== Objective-C ===
In Obj-C, the nil coalescing operator is ?:. It can be used to provide a default for nil references:

This is the same as writing


=== Perl ===
In Perl (starting with version 5.10), the operator is // and the equivalent Perl code is:

The possibly_null_value is evaluated as null or not-null (in Perl terminology, undefined or defined).  On the basis of the evaluation, the expression returns either value_if_null when possibly_null_value is null, or possibly_null_value otherwise. In the absence of side-effects this is similar to the way ternary operators (?: statements) work in languages that support them.  The above Perl code is equivalent to the use of the ternary operator below:

This operator's most common usage is to minimize the amount of code used for a simple null check.

Perl additionally has a //= assignment operator, where  is largely equivalent to: 
This operator differs from Perl's older || and ||= operators in that it considers definedness, not truth. Thus they behave differently on values that are false but defined, such as 0 or "" (a zero-length string):


=== PHP ===
PHP 7.0 introduced a null-coalescing operator with the ?? syntax. This checks strictly for NULL or a non-existent variable/array index/property. In this respect, it acts similarly to PHP's isset() pseudo-function:

Version 7.4 of PHP introduced the Null Coalescing Assignment Operator with the ??= syntax:


=== PowerShell ===
Since PowerShell 7, the ?? null coalescing operator provides this functionality.


=== R ===
Since R version 4.4.0 the %||% operator is included in base R (previously it was a feature of some packages like rlang).


=== Rust ===
While there's no null in Rust, tagged unions are used for the same purpose. For example, Result<T, E> or Option<T>.
Any type implementing the Try trait can be unwrapped.
unwrap_or() serves a similar purpose as the null coalescing operator in other languages. Alternatively, unwrap_or_else() can be used to use the result of a function as a default value.


=== SQL ===
In Oracle's PL/SQL, the NVL() function provides the same outcome:

In SQL Server/Transact-SQL there is the ISNULL function that follows the same prototype pattern:

Attention should be taken to not confuse ISNULL with IS NULL â€“ the latter serves to evaluate whether some contents are defined to be NULL or not.
The ANSI SQL-92 standard includes the COALESCE function implemented in Oracle, SQL Server, PostgreSQL, SQLite  and MySQL. The COALESCE function returns the first argument that is not null. If all terms are null, returns null.

The difference between ISNULL and COALESCE is that the type returned by ISNULL  is the type of the leftmost value while COALESCE returns the type of the first non-null value.


=== Swift ===
In Swift, the nil coalescing operator is ??. It is used to provide a default when unwrapping an optional type:

For example, if one wishes to implement some Swift code to give a page a default title if none is present, one may use the following statement:

instead of the more verbose


== See also ==
?: (conditional)
Elvis operator (binary ?:)
Null-conditional operator
Operator (computer programming)


== References ==