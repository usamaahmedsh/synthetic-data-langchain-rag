cp is a shell command for copying files and directories. 
If the user has write access to a target file, the command copies the content by opening it in update mode. This preserves the file's inode instead of creating a new file with default permissions.
The command was part of Version 1 Unix, and is specified by POSIX. The implementation from GNU has many additional options beyond the POSIX specification. The command is bundled in GNU Core Utilities and is available in the EFI shell.


== Options ==
-f (force) – specifies removal of each target file if it cannot be opened for write operations; removal precedes any copying
-H (dereference) – follows symbolic links so that the destination has the target file rather than a link to the target
-i (interactive) – prompts user to overwrite each target file that clashes with a source file
-n (no clobbering) – prevents overwriting files
-p (preserve) – preserves metadata of each source file in the destination; including: time of last modification and last access, ownership, and file permissions
-R or -r (recursive) – copy directories recursively


== Modes ==
The command has three principal modes of operation as inferred from command-line arguments.


=== Copy file ===
For a path to an existing file followed by a path that does not refer to an existing directory, the file at the first path is copied to the second path.

cp [-fHip][--] sourcefile targetfile


=== Copy files to directory ===
For one or more paths to existing files followed by a path to an existing directory, the files are copied to the directory.

cp [-fHip] [--] sourcefile... targetdirectory


=== Copy directory ===
With the recurse command-line option, typically -r, a path to an existing directory and a second path, the files of the directory are copied to the second path. If the second path refers to nothing, the source directory is copied to that path. If the second path refers to an existing directory, the source directory is copied into the destination directory as a subdirectory.

cp -r|-R [-fHip] [--] sourcedirectory... targetdirectory


== Examples ==
This copies file prog.c to file prog.bak. If prog.bak does not already exist, this creates it. If it does exist, its content will be replaced.

cp prog.c prog.bak

This copies the files jones and smith into the pre-existing directory clients.

cp jones smith clients

This copies file smith to a file named smith.jr. Instead of creating a file with the current date and time stamp, the command copies the date and time from the original. The copy also receives other metadata from the original including access control protection.

cp -p smith smith.jr

This recursively copies the directory clients, including its files, subdirectories, and the files in those subdirectories, to a new directory customers/clients. 

cp -R clients customers

Some implementations behave differently in recursive mode, depending on the termination of the directory path. Using cp -R clients/ customers in the GNU implementation behaves as above. However, with a BSD implementation, it copies the contents of the clients directory, instead of the directory clients itself. The same happens in both GNU and BSD implementations if the path of the source directory ends in . or .. (with or without trailing slash).


== See also ==

copy – Shell command for copying files
cpio – File archiver and associated file format
GNU Core Utilities – Collection of standard, Unix-based utilities from GNU
List of POSIX commands
mv – Shell command for moving files
rm – Shell command for deleting files
progress – Linux tool to show progress for cp, mv, dd
rsync – File synchronization protocol and software
scp – Network protocol for copying files between computersPages displaying short descriptions of redirect targets
tar – Shell command to combine files into a single file
uucp – Suite of computer programs and protocols


== References ==


== External links ==
cp – Shell and Utilities Reference, The Single UNIX Specification, Version 5 from The Open Group
cp(1) – FreeBSD General Commands Manual
cp(1) – NetBSD General Commands Manual
cp(1) – OpenBSD General Commands Manual
cp(1) – Solaris 11.4 User Commands Reference Manual
cp(1) – Linux User Commands Manual
cp(1) – Plan 9 Programmer's Manual, Volume 1