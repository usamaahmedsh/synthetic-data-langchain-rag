GNU TeXmacs, sometimes typeset as TeXmacs, is a scientific word processor and typesetting component of the GNU Project. It originated as a variant of GNU Emacs with TeX functionalities, though it shares no code with those programs, while using TeX fonts. It is written and maintained by Joris van der Hoeven and a group of developers. The program produces structured documents with a WYSIWYG user interface. New document styles can be created by the user. The editor provides high-quality typesetting algorithms and TeX and other fonts for publishing professional looking documents.


== Background ==
As a structured WYSIWYG editor and document preparation system, TeXmacs is similar to earlier structured document editors, such as Interleaf (first release 1985), Framemaker (1986), SoftQuad Author/Editor (1988), Lilac, Grif (1991), and Thot; there was also academic research into interactive editing of complex typographical constructs represented logically.
In the 2000s and 2010s, interest on interactive editing of structured text encouraged the development of programs intended for scholars in the humanities; an example of this is CWRC-Writer, a visual XML editor with "Close-to-WYSIWYG editing and enrichment of scholarly texts with meaningful visual representations of markup".
On another side of the editing and document preparation world, a program for visual interaction with structured texts written in LaTeX is LyX, which does not aim at WYSIWYG editing but at visual representation of the structure (WYSIWYM).


== Features ==

Like in many WYSIWYG editors (such as Microsoft Word), authors manipulate a document on screen which should print to a similar-looking paper copy. The goal of TeXmacs is to provide a WYSIWYG editor that nevertheless makes it possible to write correctly structured documents with aesthetically pleasing typesetting results. Despite its name, TeXmacs is not a front-end to TeX or LaTeX. However, TeXmacs documents can be converted to either TeX or LaTeX. LaTeX also can be imported (to some extent), and both import from and export to HTML, Scheme, Verbatim, and XML is provided; the HTML export is stylable with CSS (since version 1.99.14). There is a converter for MathML as well, and TeXmacs can output PDF and PostScript for printing.
TeXmacs can handle mathematical formulas, tables, images, cross-references and citations. It can be used as a front-end to a number of computer algebra systems such as Maxima, FriCAS and SageMath, and can in turn integrate some of their output into its typesetting. TeXmacs also supports a Scheme extension language called Guile for customizing the program and writing extensions.
It also features a presentation mode and a small technical drawing editor and there are plans to evolve towards a complete scientific office suite with spreadsheet capabilities. An implementation of spreadsheets is present starting from version 1.99.12; spreadsheets in TeXmacs can take advantage of plugins (for example Python or Maxima) to compute cell values.
TeXmacs currently runs on most Unix-based architectures including Linux, FreeBSD, Cygwin, Haiku and macOS. Along with the Cygwin version, a native port is available for Microsoft Windows.


=== The TeXmacs editor ===
In the TeXmacs editor structure and appearance of the document are represented at the same time; the structure is made evident to the user by surrounding logical units of the document in nested focus frames carrying color cues that are displayed according to the movement of the cursor. A detailed description of the structure in the proximity of the cursor is provided in the footer of the editor window, finely selectable with left-right arrow presses. In the editor it is possible to switch between text mode and source mode editing, and support for the composition of macros is present; the source editor is syntax-aware.


=== Mathematical typography ===
TeXmacs facilitates the inputting of mathematical formulas by mapping sequences of keyboard presses to symbols. For example, the symbol 
  
    
      
        ⇒
      
    
    {\displaystyle \Rightarrow }
  
 can be input by typing =>.
Some symbols have no such representation (
  
    
      
        ⇑
      
    
    {\displaystyle \Uparrow }
  
 for instance). These can be input with Tab ↹ key (e.g. for 
  
    
      
        ⇑
      
    
    {\displaystyle \Uparrow }
  
 the key presses are =>Tab ↹Tab ↹ . This keyboard-based entry differs from other formulae editors, that tend to provide point-and-click menus for this task.


=== Batch processing ===
It is possible to use TeXmacs as a batch processor (which is LaTeX's usual operation mode), using X virtual framebuffer to avoid opening unwanted windows while processing. For example, the command

generates a PDF file "article.pdf" from a TeXmacs document "article.tm".


== The TeXmacs format ==
All TeXmacs documents or document fragments can be thought of as trees (the concept of tree exists as well in the SGML markup language, to which the Texmacs format is similar). For instance, the tree

represents the formula

  
    
      
        x
        +
        y
        +
        
          
            1
            2
          
        
        +
        
          
            y
            +
            z
          
        
      
    
    {\displaystyle x+y+{\frac {1}{2}}+{\sqrt {y+z}}}
  

(written here with the TeX markup used by Wikipedia) and is turned by TeXmacs' own typesetting engine into a typeset formula, here inserted as an image:

TeXmacs trees are represented in TeXmacs files as strings, and in the TeXmacs editor as the typeset representation of the document together with its interactive behaviour. In the on-screen representation of the TeXmacs tree, the cursor movement represents the movement inside the tree. On disk, three representations of the TeXmacs format exist: a native representation, an XML representation and a representation with Scheme S-expressions; the Scheme representation is useful for the interfacing with Scheme programs.


== Typesetting and document control ==
The typesetting process converts TeXmacs trees into boxes. Evaluation of TeXmacs trees proceeds by reduction of the primitives, that is by evaluation of macro applications. The typesetting primitives are designed to be very fast and are built-in into the editor; the rendering of many of the primitives can be customized through the built-in environment variables; the stylesheet language allows users to write new primitives as macros on top of the built-in primitives.
TeXmacs uses a global algorithm for "line-breaking" (similar to the TeX one) and in addition uses a global algorithm for "page-breaking"; the page-breaking algorithm takes into account floating objects (figures, table, footnotes) and multi-column content.


=== Document control ===
Documents can be controlled through a native macro system and through Guile-Scheme. It is possible to customize the editor's menus and keybindings and to act programmatically on the document tree.


==== TeXmacs macros ====
TeXmacs macros provide a means of structured input (as in TeX/LaTeX) and they are immediately typeset, at the same time maintaining editable input fields. They are written in source code, although the WYSIWYG editor can aid in their composition through the translation of visual structures into their syntax.


==== Document control through Scheme ====
Scheme is embedded in TeXmacs through GNU Guile; the editor itself can be controlled in this way: menus and keybindings can be customized. Scheme commands can be invoked interactively inside TeXmacs documents, can be invoked from the command line and from inside TeXmacs macros. TeXmacs trees can be passed to Scheme in different forms: as "passive trees" (convenient to manipulate content directly using standard Scheme routines on lists), as "active trees" (keep track of the position of the tree inside the global document tree and can be used to programmatically modify documents), and in a "hybrid" representation.


==== Graphics ====
Graphics objects are also part of the TeXmacs format and can be manipulated programmatically from Scheme. An example of TeXmacs graphics generated in a TeXmacs Scheme session is shown below together with the session which generated the image. Images generated programmatically in a Scheme session can also be edited using the internal drawing editor, as they are inserted in the document as a tree; Scheme scripts can also be executed through the extern TeXmacs macro—in this case only the typeset material is available in the document and no direct editing is possible (the modifications must be made within the Scheme code).


== Supported back ends ==

TeXmacs has back-ends supporting many technologies.

Programming languages: CLISP, CMUCL, Python, QCL, R, Shell
Computer algebra systems: Axiom, Giac, Macaulay 2, Mathematica, Maxima, MuPAD, PARI/GP, Reduce, SageMath, Yacas
Numeric matrix systems: GNU Octave, Matlab, Scilab
Plotting packages: gnuplot, Graphviz, XYpic, Mathemagix
Other: DraTeX, Eukleides, GTybalt, Lush, Juris-M, and Zotero


=== Embedding editable plugin output ===
Plugin output can be embedded within TeXmacs documents using "executable switches"; in this way one can switch back and forth between a given input to the system and the corresponding output, which blends seamlessly in the document.


== See also ==

Comparison of TeX editors
Comparison of office suites
List of office suites
Comparison of word processors
Comparison of document-markup languages
List of word processors
LyX
Visual editor


== References ==


== External links ==
Official website
texmacs-users mailing list archives
Forum
tm-forge, a repository of user-contributed content for TeXmacs
TeXmacs blog