Mir is a computer display server and, recently, a Wayland compositor for the Linux operating system that is under development by Canonical Ltd. It was planned to replace the currently used X Window System for Ubuntu; however, the plan changed and Mutter was adopted as part of GNOME Shell.
Mir was announced by Canonical on 4 March 2013 as part of the development of Unity 8, intended as the next generation for the Unity user interface. Four years later Unity 8 was dropped although Mir's development continued for Internet of Things (IoT) applications.


== Software architecture ==
Mir is built on EGL and uses some of the infrastructure originally developed for Wayland such as Mesa's EGL implementation and Jolla's libhybris. The compatibility layer for X, XMir, is based on XWayland.
Other parts of the infrastructure used by Mir originate from Android. These parts include Google's Protocol Buffers, and previously included Android's input stack, which has since been replaced by Wayland's libinput, prior to the end of 2015. An implementation detail in memory management shared with Android is the use of server-allocated buffers which Canonical employee Christopher Halse Rogers claims to be a requirement for "the ARM world and Android graphics stack".
According to Ryan Paul of Ars Technica,

Some of the benefits that Mir will eventually offer include lower overhead in the display pipeline, more seamless transitions between display modes during the boot process, richer input handling that will make it easier to support things like touchscreen gestures, more seamless support for systems with switchable graphics hardware (like laptops that can dynamically shift between using embedded and discrete graphics), and better application interchange (which will help improve things like the clipboard and drag-and-drop).
As of September 2017 it has basic Wayland support.


== Adoption ==
As of May 2014, the only announced desktop environment with native support for Mir was Canonical's Unity 8. No other Linux distribution announced plans to adopt Mir as default display server.
On 23 July 2013, Compiz developer Sam Spilsbury had announced a proof-of-concept port of Kodi to Mir, based on the previous proof-of-concept port of Kodi to Wayland. On the same day Canonical developer Oliver Ries had confirmed that "this is the first native Mir client out in the wild".
Among Ubuntu derivatives using a non-Unity environment, Xubuntu developers had announced in early August 2013 that they would evaluate running Xfce via XMir, but three weeks later decided to refrain from adopting it.


=== Ubuntu ===
In June 2013, Canonical's publicly announced milestones for Mir development were to ship Unity 7 with XMir by default and a pure X11 fallback mode with Ubuntu 13.10, remove the X11 fallback with Ubuntu 14.04 LTS, and Unity 8 running natively on Mir by Ubuntu 14.10. Later, on 1 October 2013, Canonical announced a postponement of their Mir plans for desktop use and not use XMir as default in Ubuntu 13.10. Ubuntu Touch, however is targeted to ship with Mir and a smartphone version of Unity 8.
In May 2016, during his traditional video interview with the community held during the Ubuntu Online Summit, Mark Shuttleworth confirmed that "You will be able to get 16.10 with Unity 8, just like you can get 16.04 with MATE, or KDE, or GNOME. It'll be there, it'll be an option, and the team that's working on that is committed to making that a first-class option."
On 5 April 2017, Canonical announced that with the release of Ubuntu 18.04 LTS, the Unity 8 interface would be abandoned in favor of GNOME. When asked if the decision would also mean the end of Mir development, Canonical's Michael Hall said that given the divergent development paths taken by Mir and its competitor, Wayland, "Using Mir simply isn't an option we have."
However, Mark Shuttleworth clarified on 8 April 2017 that development would continue for Mir's use in Internet of Things (IoT) applications, stating: "we have lots of IoT projects using Mir as a compositor so that code continues to receive investment."


=== Toolkits ===
SDL supported both Mir and Wayland starting with SDL 2.0.2 but it was disabled by default. Wayland and Mir support was enabled by default starting with SDL 2.0.4. With the release of 2.0.10, Mir support was dropped in favor of Wayland.
GTK 3.16 included an experimental Mir backend, but was removed in GTK 4.
Qt5 is the official and supported toolkit for Unity8 and Ubuntu Touch, included in the Ubuntu SDK.


== Criticism ==
In March 2013, Canonical Ltd. announced Mir as the replacement display server for the X.Org Server in Ubuntu. Previously, in 2010, it had announced that it would use Wayland. Canonical stated that it could not meet Ubuntu's needs with Wayland. There were several posts made in objection or clarification, by people leading other similar or affected projects.
When originally announcing Mir, Canonical made various claims about Wayland's input system, which the Wayland developers rebutted. Official Canonical documentation in 2014 states, "our evaluation of the protocol definition revealed that the Wayland protocol does not meet our requirements. First, we are aiming for a more extensible input event handling that takes future developments like 3D input devices (e.g. Leap Motion) into account ... With respect to mobile use-cases, we think that the handling of input methods should be reflected in the display server protocol, too. As another example, we consider the shell integration parts of the protocol as privileged and we'd rather avoid having any sort of shell behavior defined in the client facing protocol." In late 2015 Mir switched from a custom Android-derived input stack to Wayland's libinput.
Long-time Linux kernel developer Matthew Garrett criticized the choice of licensing for Canonical's software projects, particularly Mir. Unlike X.Org Server and Wayland, both under the MIT License, Mir is licensed under GPLv3 – "an odd [choice]" for "GPLv3-hostile markets" – but contributors are required to sign an agreement that "grants Canonical the right to relicense your contribution under their choice of license. This means that, despite not being the sole copyright holder, Canonical are free to relicense your code under a proprietary license." He concludes that this creates asymmetry where "you end up with a situation that looks awfully like Canonical wanting to squash competition by making it impossible for anyone else to sell modified versions of Canonical's software in the same market." Garrett's concerns were echoed by Bradley M. Kuhn, Executive Director of the Software Freedom Conservancy.
Richard Stallman of the Free Software Foundation has stated on the similar case of MySQL that he supports dual-licensing of GPL software, as long as there are no proprietary extensions or proprietary versions of the free program, which was not the case for MySQL.
In June 2013, Jonathan Riddell of Kubuntu announced that Kubuntu did not plan to switch to Mir. He stated "A few months ago Canonical announced their new graphics system for Ubuntu, Mir. It's a shame the Linux desktop market hasn't taken off as we all hoped at the turn of the millennium and they feel the need to follow a more Apple or Android style of approach making an OS which works in isolation rather than as part of a community development method. Here at Kubuntu we still want to work as part of the community development, taking the fine software from KDE and other upstream projects and putting it on computers worldwide. So when Ubuntu desktop gets switched to Mir we won't be following. We'll be staying with X on the images for our 13.10 release now in development and the 14.04 LTS release next year. After that we hope to switch to Wayland which is what KDE and every other Linux distro hopes to do."
In September 2013, an Intel developer removed XMir support from their video driver and wrote "We do not condone or support Canonical in the course of action they have chosen, and will not carry XMir patches upstream."


== See also ==
List of display servers


== References ==