The Schulze method (), also known as the beatpath method, is a single winner ranked-choice voting rule developed by Markus Schulze. The Schulze method is a Condorcet completion method, which means it will elect a majority-preferred candidate if one exists. In other words, if most people rank A above B, A will defeat B (whenever this is possible). Schulze's method breaks cyclic ties by using indirect victories. The idea is that if Alice beats Bob, and Bob beats Charlie, then Alice (indirectly) beats Charlie; this kind of indirect win is called a "beatpath".
The Schulze method is used by several organizations including Debian, Ubuntu, Gentoo, Pirate Party political parties and many others. It was also used by Wikimedia prior to their adoption of score voting.


== Description of the method ==

Schulze's method uses ranked ballots with equal ratings allowed. There are two common (equivalent) descriptions of Schulze's method.


=== Beatpath explanation ===
The idea behind Schulze's method is that if Alice defeats Bob, and Bob beats Charlie, then Alice "indirectly" defeats Charlie. These chained sequences of "beats" are called 'beatpaths'.
Every beatpath is assigned a particular strength. The strength of a single-step beatpath from Alice to Bob is just the number of voters who rank Alice over Bob. For a longer beatpath, consisting of multiple beats, a beatpath is as strong as its weakest link (i.e. the beat with the smallest number of winning votes).
We say Alice has a "beatpath-win" over Bob if her strongest beatpath to Bob is stronger than Bob's strongest beatpath to Alice (or if Bob has no beatpath to Alice). The winner is any candidate who is not beaten by any other candidate via a beatpath-win.
This definition of a beatpath-win is transitive: in other words, if Alice has a beatpath-win over Bob, and Bob has a beatpath-win over Charlie, Alice has a beatpath-win over Charlie. As a result, the Schulze method is a Condorcet method, providing a full extension of the majority rule to any set of ballots.


=== Iterative description ===
The Schulze winner can also be constructed iteratively, using a defeat-dropping method:

Draw a directed graph with all the candidates as nodes; label the edges with the number of votes supporting the winner.
If there is more than one candidate left:
Check if any candidates are tied (and if so, break the ties by random ballot).
Eliminate all candidates outside the majority-preferred set.
Delete the edge closest to being tied.
The winner is the only candidate left at the end of the procedure.


== Example ==
In the following example 45 voters rank 5 candidates.

The pairwise preferences have to be computed first. For example, when comparing A and B pairwise, there are 5+5+3+7=20 voters who prefer A to B, and 8+2+7+8=25 voters who prefer B to A. So 
  
    
      
        d
        [
        A
        ,
        B
        ]
        =
        20
      
    
    {\displaystyle d[A,B]=20}
  
 and 
  
    
      
        d
        [
        B
        ,
        A
        ]
        =
        25
      
    
    {\displaystyle d[B,A]=25}
  
. The full set of pairwise preferences is:

The cells for d[X, Y] have a light green background if d[X, Y] > d[Y, X], otherwise the background is light red. There is no undisputed winner by only looking at the pairwise differences here.
Now the strongest paths have to be identified. To help visualize the strongest paths, the set of pairwise preferences is depicted in the diagram on the right in the form of a directed graph.  An arrow from the node representing a candidate X to the one representing a candidate Y is labelled with d[X, Y].  To avoid cluttering the diagram, an arrow has only been drawn from X to Y when d[X, Y] > d[Y, X] (i.e. the table cells with light green background), omitting the one in the opposite direction (the table cells with light red background).
One example of computing the strongest path strength is p[B, D] = 33: the strongest path from B to D is the direct path (B, D) which has strength 33. But when computing p[A, C], the strongest path from A to C is not the direct path (A, C) of strength 26, rather the strongest path is the indirect path (A, D, C) which has strength min(30, 28) = 28. The strength of a path is the strength of its weakest link.

For each pair of candidates X and Y, the following table shows the strongest path from candidate X to candidate Y in red, with the weakest link underlined.

Now the output of the Schulze method can be determined. For example, when comparing A and B, since 
  
    
      
        (
        28
        =
        )
        p
        [
        A
        ,
        B
        ]
        >
        p
        [
        B
        ,
        A
        ]
        (
        =
        25
        )
      
    
    {\displaystyle (28=)p[A,B]>p[B,A](=25)}
  
, for the Schulze method candidate A is better than candidate B. Another example is that 
  
    
      
        (
        31
        =
        )
        p
        [
        E
        ,
        D
        ]
        >
        p
        [
        D
        ,
        E
        ]
        (
        =
        24
        )
      
    
    {\displaystyle (31=)p[E,D]>p[D,E](=24)}
  
, so candidate E is better than candidate D. Continuing in this way, the result is that the Schulze ranking is 
  
    
      
        E
        >
        A
        >
        C
        >
        B
        >
        D
      
    
    {\displaystyle E>A>C>B>D}
  
, and E wins. In other words, E wins since 
  
    
      
        p
        [
        E
        ,
        X
        ]
        ≥
        p
        [
        X
        ,
        E
        ]
      
    
    {\displaystyle p[E,X]\geq p[X,E]}
  
 for every other candidate X.


== Implementation ==
Computation of the strongest path strengths is the widest path problem.  It is a variation of the all-pairs shortest path problem and it can be solved via a variant of the Floyd–Warshall algorithm. The following pseudocode illustrates the algorithm.This algorithm is efficient and has running time O(C3) where C is the number of candidates.


== Ties and alternative implementations ==
When allowing users to have ties in their preferences, the outcome of the Schulze method naturally depends on how these ties are interpreted in defining d[*,*]. Two natural choices are that d[A, B] represents either the number of voters who strictly prefer A to B (A>B), or the margin of (voters with A>B) minus (voters with B>A). But no matter how the ds are defined, the Schulze ranking has no cycles, and assuming the ds are unique it has no ties.
Although ties in the Schulze ranking are unlikely, they are possible. Schulze's original paper recommended breaking ties by random ballot.
There is another alternative way to demonstrate the winner of the Schulze method. This method is equivalent to the others described here, but the presentation is optimized for the significance of steps being visually apparent as a human goes through it, not for computation.

Make the results table, called the "matrix of pairwise preferences", such as used above in the example. Then, every positive number is a pairwise win for the candidate on that row (and marked green), ties are zeroes, and losses are negative (marked red). Order the candidates by how long they last in elimination.
If there is a candidate with no red on their line, they win.
Otherwise, draw a square box around the Schwartz set in the upper left corner. It can be described as the minimal "winner's circle" of candidates who do not lose to anyone outside the circle. Note that to the right of the box there is no red, which means it is a winner's circle, and note that within the box there is no reordering possible that would produce a smaller winner's circle.
Cut away every part of the table outside the box.
If there is still no candidate with no red on their line, something needs to be compromised on; every candidate lost some race, and the loss we tolerate the best is the one where the loser obtained the most votes. So, take the red cell with the highest number (if going by margins, the least negative), make it green—or any color other than red—and go back step 2.
Here is a margins table made from the above example. Note the change of order used for demonstration purposes.

The first drop (A's loss to E by 1 vote) does not help shrink the Schwartz set.

So we get straight to the second drop (E's loss to C by 3 votes), and that shows us the winner, E, with its clear row.

This method can also be used to calculate a result, if the table is remade in such a way that one can conveniently and reliably rearrange the order of the candidates on both the row and the column, with the same order used on both at all times.


== Satisfied and failed criteria ==


=== Satisfied criteria ===
The Schulze method satisfies the following criteria:


=== Failed criteria ===
Since the Schulze method satisfies the Condorcet criterion, it automatically fails the following criteria:

Participation
Consistency
Invulnerability to burying
Later-no-harm
Likewise, since the Schulze method is not a dictatorship and is a ranked voting system (not rated), Arrow's Theorem implies it fails independence of irrelevant alternatives, meaning it can be vulnerable to the spoiler effect in some rare circumstances. The Schulze method also fails Peyton Young's criterion of Local Independence of Irrelevant Alternatives.


=== Comparison table ===
The following table compares the Schulze method with other single-winner election methods:


=== Difference from ranked pairs ===
Ranked pairs is another Condorcet method which is very similar to Schulze's rule, and typically produces the same outcome. There are slight differences, however. The main difference between the beatpath method and ranked pairs is that Schulze retains behavior closer to minimax. Say that the minimax score of a set X of candidates is the strength of the strongest pairwise win of a candidate A ∉ X against a candidate B ∈ X. Then the Schulze method, but not ranked pairs, guarantees the winner is always a candidate of the set with minimum minimax score. This is the sense in which the Schulze method minimizes the largest majority that has to be reversed when determining the winner.
On the other hand, Ranked Pairs minimizes the largest majority that has to be reversed to determine the order of finish. In other words, when Ranked Pairs and the Schulze method produce different orders of finish, for the majorities on which the two orders of finish disagree, the Schulze order reverses a larger majority than the Ranked Pairs order.


== History ==
The Schulze method was developed by Markus Schulze in 1997. It was first discussed in public mailing lists in 1997–1998 and in 2000. In 2011, Schulze published the method in the academic journal Social Choice and Welfare.


== Usage ==


=== Government ===
The Schulze method is used by the city of Silla, Spain for all referendums. It is also used by the cities of Turin and San Donà di Piave in Italy and by the London Borough of Southwark through their use of the WeGovNow platform, which in turn uses the LiquidFeedback decision tool.


=== Political parties ===
Schulze was adopted by the Pirate Party of Sweden (2009), and the Pirate Party of Germany (2010). The Boise, Idaho chapter of the Democratic Socialists of America in February chose this method for their first special election held in March 2018.

Five Star Movement of Campobasso, Fondi, Monte Compatri, Montemurlo, Pescara, and San Cesareo
Pirate Parties of Australia, Austria, Belgium, Brazil, Germany, Iceland, Italy, the Netherlands, Sweden, Switzerland, and the United States
SustainableUnion
Volt Europe


=== Student government and associations ===
AEGEE – European Students' Forum
Club der Ehemaligen der Deutschen SchülerAkademien e. V.
Associated Student Government at École normale supérieure de Paris
Flemish Society of Engineering Students Leuven
Graduate Student Organization at the State University of New York: Computer Science (GSOCS)
Hillegass Parker House
Kingman Hall
Associated Students of Minerva Schools at KGI
Associated Student Government at Northwestern University
Associated Student Government at University of Freiburg
Associated Student Government at the Computer Sciences Department of the University of Kaiserslautern-Landau


=== Organizations ===
It is used by the Institute of Electrical and Electronics Engineers, by the Association for Computing Machinery, and by USENIX through their use of the HotCRP decision tool.
Organizations which currently use the Schulze method include:


== Generalizations ==
In 2008, Camps et. al devised a method that, while ranking candidates in the same order of finish as Schulze, also provides ratings indicating the candidates' relative strength of victory.


== Notes ==


== External links ==

Schulze, Markus (2018). "The Schulze Method of Voting". arXiv:1804.02973 [cs.GT].
The Schulze Method by Hubert Bray
Spieltheorie (in German) by Bernhard Nebel
Accurate Democracy by Rob Loring
Christoph Börgers (2009), Mathematics of Social Choice: Voting, Compensation, and Division, SIAM, ISBN 0-89871-695-0
Nicolaus Tideman (2006), Collective Decisions and Voting: The Potential for Public Choice, Burlington: Ashgate, ISBN 0-7546-4717-X
preftools by the Public Software Group
Arizonans for Condorcet Ranked Voting
Condorcet PHP Command line application and PHP library, supporting multiple Condorcet methods, including Schulze.
Implementation in Java
Implementation in Ruby
Implementation in Python 2
Implementation in Python 3