In probability theory, a real-valued stochastic process X is called a semimartingale if it can be decomposed as the sum of a local martingale and a càdlàg adapted finite-variation process. Semimartingales are "good integrators", forming the largest class of processes with respect to which the Itô integral and the Stratonovich integral can be defined.
The class of semimartingales is quite large (including, for example, all continuously differentiable processes, Brownian motion and Poisson processes). Submartingales and supermartingales together represent a subset of the semimartingales.


== Definition ==
A real-valued process X defined on the filtered probability space (Ω,F,(Ft)t ≥ 0,P) is called a semimartingale if it can be decomposed as

  
    
      
        
          X
          
            t
          
        
        =
        
          M
          
            t
          
        
        +
        
          A
          
            t
          
        
      
    
    {\displaystyle X_{t}=M_{t}+A_{t}}
  

where M is a local martingale and A is a càdlàg adapted process of locally bounded variation. This means that for almost all 
  
    
      
        ω
        ∈
        Ω
      
    
    {\displaystyle \omega \in \Omega }
  
 and all compact intervals 
  
    
      
        I
        ⊂
        [
        0
        ,
        ∞
        )
      
    
    {\displaystyle I\subset [0,\infty )}
  
, the sample path 
  
    
      
        I
        ∋
        s
        ↦
        
          A
          
            s
          
        
        (
        ω
        )
      
    
    {\displaystyle I\ni s\mapsto A_{s}(\omega )}
  
 is of bounded variation.
An Rn-valued process X = (X1,...,Xn) is a semimartingale if each of its components Xi is a semimartingale.


== Alternative definition ==
First, the simple predictable processes are defined to be linear combinations of processes of the form Ht = A1{t > T} for stopping times T and FT -measurable random variables A. The integral H ⋅ X for any such simple predictable process H and real-valued process X is

  
    
      
        H
        ⋅
        
          X
          
            t
          
        
        :=
        
          1
          
            {
            t
            >
            T
            }
          
        
        A
        (
        
          X
          
            t
          
        
        −
        
          X
          
            T
          
        
        )
        .
      
    
    {\displaystyle H\cdot X_{t}:=1_{\{t>T\}}A(X_{t}-X_{T}).}
  

This is extended to all simple predictable processes by the linearity of H ⋅ X in H.
A real-valued process X is a semimartingale if it is càdlàg, adapted, and for every t ≥ 0,

  
    
      
        
          {
          
            H
            ⋅
            
              X
              
                t
              
            
            :
            H
            
              
                 
                i
                s
                 
                s
                i
                m
                p
                l
                e
                 
                p
                r
                e
                d
                i
                c
                t
                a
                b
                l
                e
                 
                a
                n
                d
                 
              
            
            
              |
            
            H
            
              |
            
            ≤
            1
          
          }
        
      
    
    {\displaystyle \left\{H\cdot X_{t}:H{\rm {\ is\ simple\ predictable\ and\ }}|H|\leq 1\right\}}
  

is bounded in probability. The Bichteler–Dellacherie Theorem states that these two definitions are equivalent (Protter 2004, p. 144).


== Examples ==
Adapted and continuously differentiable processes are continuous, locally finite-variation processes, and hence semimartingales.
Brownian motion is a semimartingale.
All càdlàg martingales, submartingales and supermartingales are semimartingales.
Itō processes, which satisfy a stochastic differential equation of the form dX = σdW + μdt are semimartingales. Here, W is a Brownian motion and σ, μ are adapted processes.
Every Lévy process is a semimartingale.
Although most continuous and adapted processes studied in the literature are semimartingales, this is not always the case.

Fractional Brownian motion with Hurst parameter H ≠ 1/2 is not a semimartingale.


== Properties ==
The semimartingales form the largest class of processes for which the Itō integral can be defined.
Linear combinations of semimartingales are semimartingales.
Products of semimartingales are semimartingales, which is a consequence of the integration by parts formula for the Itō integral.
The quadratic variation exists for every semimartingale.
The class of semimartingales is closed under optional stopping, localization, change of time and absolutely continuous change of probability measure (see Girsanov's Theorem).
If X is an Rm-valued semimartingale and f is a twice continuously differentiable function from Rm to Rn, then f(X) is a semimartingale. This is a consequence of Itō's lemma.
The property of being a semimartingale is preserved under shrinking the filtration. More precisely, if X is a semimartingale with respect to the filtration Ft, and is adapted with respect to the subfiltration Gt, then X is a Gt-semimartingale.
(Jacod's Countable Expansion) The property of being a semimartingale is preserved under enlarging the filtration by a countable set of disjoint sets. Suppose that Ft is a filtration, and Gt is the filtration generated by Ft and a countable set of disjoint measurable sets. Then, every Ft-semimartingale is also a Gt-semimartingale. (Protter 2004, p. 53)


== Semimartingale decompositions ==
By definition, every semimartingale is a sum of a local martingale and a finite-variation process. However, this decomposition is not unique.


=== Continuous semimartingales ===
A continuous semimartingale uniquely decomposes as X = M + A where M is a continuous local martingale and A is a continuous finite-variation process starting at zero. (Rogers & Williams 1987, p. 358)
For example, if X is an Itō process satisfying the stochastic differential equation dXt = σt dWt + bt dt, then

  
    
      
        
          M
          
            t
          
        
        =
        
          X
          
            0
          
        
        +
        
          ∫
          
            0
          
          
            t
          
        
        
          σ
          
            s
          
        
        
        d
        
          W
          
            s
          
        
        ,
         
        
          A
          
            t
          
        
        =
        
          ∫
          
            0
          
          
            t
          
        
        
          b
          
            s
          
        
        
        d
        s
        .
      
    
    {\displaystyle M_{t}=X_{0}+\int _{0}^{t}\sigma _{s}\,dW_{s},\ A_{t}=\int _{0}^{t}b_{s}\,ds.}
  


=== Special semimartingales ===
A special semimartingale is a real-valued process 
  
    
      
        X
      
    
    {\displaystyle X}
  
 with the decomposition 
  
    
      
        X
        =
        
          M
          
            X
          
        
        +
        
          B
          
            X
          
        
      
    
    {\displaystyle X=M^{X}+B^{X}}
  
, where 
  
    
      
        
          M
          
            X
          
        
      
    
    {\displaystyle M^{X}}
  
 is a local martingale and 
  
    
      
        
          B
          
            X
          
        
      
    
    {\displaystyle B^{X}}
  
 is a predictable finite-variation process starting at zero. If this decomposition exists, then it is unique up to a P-null set.
Every special semimartingale is a semimartingale. Conversely, a semimartingale is a special semimartingale if and only if the process Xt* ≡ sups ≤ t |Xs| is locally integrable (Protter 2004, p. 130).
For example, every continuous semimartingale is a special semimartingale, in which case M and A are both continuous processes.


=== Multiplicative decompositions ===
Recall that 
  
    
      
        
          
            E
          
        
        (
        X
        )
      
    
    {\displaystyle {\mathcal {E}}(X)}
  
 denotes the stochastic exponential of semimartingale 
  
    
      
        X
      
    
    {\displaystyle X}
  
. If 
  
    
      
        X
      
    
    {\displaystyle X}
  
 is a special semimartingale such that 
  
    
      
        Δ
        
          B
          
            X
          
        
        ≠
        −
        1
      
    
    {\displaystyle \Delta B^{X}\neq -1}
  
, then 
  
    
      
        
          
            E
          
        
        (
        
          B
          
            X
          
        
        )
        ≠
        0
      
    
    {\displaystyle {\mathcal {E}}(B^{X})\neq 0}
  
 and 
  
    
      
        
          
            E
          
        
        (
        X
        )
        
          /
        
        
          
            E
          
        
        (
        
          B
          
            X
          
        
        )
        =
        
          
            E
          
        
        
          (
          
            
              ∫
              
                0
              
              
                ⋅
              
            
            
              
                
                  M
                  
                    u
                  
                  
                    X
                  
                
                
                  1
                  +
                  Δ
                  
                    B
                    
                      u
                    
                    
                      X
                    
                  
                
              
            
          
          )
        
      
    
    {\displaystyle {\mathcal {E}}(X)/{\mathcal {E}}(B^{X})={\mathcal {E}}\left(\int _{0}^{\cdot }{\frac {M_{u}^{X}}{1+\Delta B_{u}^{X}}}\right)}
  
 is a local martingale. Process 
  
    
      
        
          
            E
          
        
        (
        
          B
          
            X
          
        
        )
      
    
    {\displaystyle {\mathcal {E}}(B^{X})}
  
 is called the multiplicative compensator of 
  
    
      
        
          
            E
          
        
        (
        X
        )
      
    
    {\displaystyle {\mathcal {E}}(X)}
  
 and the identity 
  
    
      
        
          
            E
          
        
        (
        X
        )
        =
        
          
            E
          
        
        
          (
          
            
              ∫
              
                0
              
              
                ⋅
              
            
            
              
                
                  M
                  
                    u
                  
                  
                    X
                  
                
                
                  1
                  +
                  Δ
                  
                    B
                    
                      u
                    
                    
                      X
                    
                  
                
              
            
          
          )
        
        
          
            E
          
        
        (
        
          B
          
            X
          
        
        )
      
    
    {\displaystyle {\mathcal {E}}(X)={\mathcal {E}}\left(\int _{0}^{\cdot }{\frac {M_{u}^{X}}{1+\Delta B_{u}^{X}}}\right){\mathcal {E}}(B^{X})}
  
 the multiplicative decomposition of 
  
    
      
        
          
            E
          
        
        (
        X
        )
      
    
    {\displaystyle {\mathcal {E}}(X)}
  
.


=== Purely discontinuous semimartingales / quadratic pure-jump semimartingales ===
A semimartingale is called purely discontinuous (Kallenberg 2002) if its quadratic variation [X] is a finite-variation pure-jump process, i.e.,

  
    
      
        [
        X
        
          ]
          
            t
          
        
        =
        
          ∑
          
            s
            ≤
            t
          
        
        (
        Δ
        
          X
          
            s
          
        
        
          )
          
            2
          
        
      
    
    {\displaystyle [X]_{t}=\sum _{s\leq t}(\Delta X_{s})^{2}}
  
.
By this definition, time is a purely discontinuous semimartingale even though it exhibits no jumps at all. The alternative (and preferred) terminology quadratic pure-jump semimartingale for a purely discontinuous semimartingale (Protter 2004, p. 71) is motivated by the fact that the quadratic variation of a purely discontinuous semimartingale is a pure jump process. Every finite-variation semimartingale is a quadratic pure-jump semimartingale. An adapted continuous process is a quadratic pure-jump semimartingale if and only if it is of finite variation.
For every semimartingale X there is a unique continuous local martingale 
  
    
      
        
          X
          
            c
          
        
      
    
    {\displaystyle X^{c}}
  
 starting at zero such that 
  
    
      
        X
        −
        
          X
          
            c
          
        
      
    
    {\displaystyle X-X^{c}}
  
 is a quadratic pure-jump semimartingale (He, Wang & Yan 1992, p. 209; Kallenberg 2002, p. 527). The local martingale 
  
    
      
        
          X
          
            c
          
        
      
    
    {\displaystyle X^{c}}
  
 is called the continuous martingale part of X.
Observe that 
  
    
      
        
          X
          
            c
          
        
      
    
    {\displaystyle X^{c}}
  
 is measure-specific. If 
  
    
      
        P
      
    
    {\displaystyle P}
  
 and 
  
    
      
        Q
      
    
    {\displaystyle Q}
  
 are two equivalent measures then 
  
    
      
        
          X
          
            c
          
        
        (
        P
        )
      
    
    {\displaystyle X^{c}(P)}
  
 is typically different from 
  
    
      
        
          X
          
            c
          
        
        (
        Q
        )
      
    
    {\displaystyle X^{c}(Q)}
  
, while both 
  
    
      
        X
        −
        
          X
          
            c
          
        
        (
        P
        )
      
    
    {\displaystyle X-X^{c}(P)}
  
 and 
  
    
      
        X
        −
        
          X
          
            c
          
        
        (
        Q
        )
      
    
    {\displaystyle X-X^{c}(Q)}
  
 are quadratic pure-jump semimartingales. By Girsanov's theorem 
  
    
      
        
          X
          
            c
          
        
        (
        P
        )
        −
        
          X
          
            c
          
        
        (
        Q
        )
      
    
    {\displaystyle X^{c}(P)-X^{c}(Q)}
  
 is a continuous finite-variation process, yielding 
  
    
      
        [
        
          X
          
            c
          
        
        (
        P
        )
        ]
        =
        [
        
          X
          
            c
          
        
        (
        Q
        )
        ]
        =
        [
        X
        ]
        −
        
          ∑
          
            s
            ≤
            ⋅
          
        
        (
        Δ
        
          X
          
            s
          
        
        
          )
          
            2
          
        
      
    
    {\displaystyle [X^{c}(P)]=[X^{c}(Q)]=[X]-\sum _{s\leq \cdot }(\Delta X_{s})^{2}}
  
.


=== Continuous-time and discrete-time components of a semimartingale ===
Every semimartingale 
  
    
      
        X
      
    
    {\displaystyle X}
  
 has a unique decomposition 
  
    
      
        X
        =
        
          X
          
            0
          
        
        +
        
          X
          
            
              q
              c
            
          
        
        +
        
          X
          
            
              d
              p
            
          
        
        ,
      
    
    {\displaystyle X=X_{0}+X^{\mathrm {qc} }+X^{\mathrm {dp} },}
  
where 
  
    
      
        
          X
          
            0
          
          
            
              q
              c
            
          
        
        =
        
          X
          
            0
          
          
            
              d
              p
            
          
        
        =
        0
      
    
    {\displaystyle X_{0}^{\mathrm {qc} }=X_{0}^{\mathrm {dp} }=0}
  
, the 
  
    
      
        
          X
          
            
              q
              c
            
          
        
      
    
    {\displaystyle X^{\mathrm {qc} }}
  
 component does not jump at predictable times, and the 
  
    
      
        
          X
          
            
              d
              p
            
          
        
      
    
    {\displaystyle X^{\mathrm {dp} }}
  
 component is equal to the sum of its jumps at predictable times in the semimartingale topology. One then has 
  
    
      
        [
        
          X
          
            
              q
              c
            
          
        
        ,
        
          X
          
            
              d
              p
            
          
        
        ]
        =
        0
      
    
    {\displaystyle [X^{\mathrm {qc} },X^{\mathrm {dp} }]=0}
  
. Typical examples of the "qc" component are Itô process and Lévy process. The "dp" component is often taken to be a Markov chain but in general the predictable jump times may not be isolated points; for example, in principle 
  
    
      
        
          X
          
            
              d
              p
            
          
        
      
    
    {\displaystyle X^{\mathrm {dp} }}
  
 may jump at every rational time. Observe also that 
  
    
      
        
          X
          
            
              d
              p
            
          
        
      
    
    {\displaystyle X^{\mathrm {dp} }}
  
 is not necessarily of finite variation, even though it is equal to the sum of its jumps (in the semimartingale topology). For example, on the time interval 
  
    
      
        [
        0
        ,
        ∞
        )
      
    
    {\displaystyle [0,\infty )}
  
 take 
  
    
      
        
          X
          
            
              d
              p
            
          
        
      
    
    {\displaystyle X^{\mathrm {dp} }}
  
 to have independent increments, with jumps at times 
  
    
      
        {
        
          τ
          
            n
          
        
        =
        2
        −
        1
        
          /
        
        n
        
          }
          
            n
            ∈
            
              N
            
          
        
      
    
    {\displaystyle \{\tau _{n}=2-1/n\}_{n\in \mathbb {N} }}
  
 taking values 
  
    
      
        ±
        1
        
          /
        
        n
      
    
    {\displaystyle \pm 1/n}
  
 with equal probability.


=== Canonical Decomposition ===
Although the decomposition of a semimartingale into the sum of a local martingale and a finite-variation process is not unique, every semimartingale has a unique canonical decomposition as
  
    
      
        X
        =
        
          N
          
            X
          
        
        +
        
          A
          
            X
          
        
        +
        
          ∑
          
            s
            ≤
            ⋅
          
        
        
          
            1
          
          
            {
            |
            
              
                Δ
                X
              
              
                s
              
            
            |
            >
            1
            }
          
        
        Δ
        
          X
          
            s
          
        
        ,
      
    
    {\displaystyle X=N^{X}+A^{X}+\sum _{s\leq \cdot }\mathbf {1} _{\{\vert {\Delta X}_{s}\vert >1\}}\Delta X_{s},}
  
for a unique local martingale 
  
    
      
        
          N
          
            X
          
        
      
    
    {\displaystyle N^{X}}
  
 and a unique predictable finite variation process 
  
    
      
        
          A
          
            X
          
        
      
    
    {\displaystyle A^{X}}
  
 starting at zero.


== Semimartingales on a manifold ==
The concept of semimartingales, and the associated theory of stochastic calculus, extends to processes taking values in a differentiable manifold. A process X on the manifold M is a semimartingale if f(X) is a semimartingale for every smooth function f from M to R. (Rogers & Williams 1987, p. 24) Stochastic calculus for semimartingales on general manifolds requires the use of the Stratonovich integral.


== See also ==
Sigma-martingale


== References ==

He, Sheng-wu; Wang, Jia-gang; Yan, Jia-an (1992), Semimartingale Theory and Stochastic Calculus, Science Press, CRC Press Inc., ISBN 0-8493-7715-3
Kallenberg, Olav (2002), Foundations of Modern Probability (2nd ed.), Springer, ISBN 0-387-95313-2
Protter, Philip E. (2004), Stochastic Integration and Differential Equations (2nd ed.), Springer, ISBN 3-540-00313-4
Rogers, L.C.G.; Williams, David (1987), Diffusions, Markov Processes, and Martingales, vol. 2, John Wiley & Sons Ltd, ISBN 0-471-91482-7
Karandikar, Rajeeva L.; Rao, B.V. (2018), Introduction to Stochastic Calculus, Springer Ltd, ISBN 978-981-10-8317-4