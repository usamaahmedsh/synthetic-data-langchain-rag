Couchbase Server, originally known as Membase, is a source-available, distributed (shared-nothing architecture) multi-model NoSQL document-oriented database software package optimized for interactive applications. These applications may serve many concurrent users by creating, storing, retrieving, aggregating, manipulating and presenting data. In support of these kinds of application needs, Couchbase Server is designed to provide easy-to-scale key-value, or JSON document access, with low latency and high sustainability throughput. It is designed to be clustered from a single machine to very large-scale deployments spanning many machines.
Couchbase Server provided client protocol compatibility with memcached, but added disk persistence, data replication, live cluster reconfiguration, rebalancing and multitenancy with data partitioning.


== Product history ==
Membase was developed by several leaders of the memcached project, who had founded a company, NorthScale, to develop a key-value store with the simplicity, speed, and scalability of memcached, but also the storage, persistence and querying capabilities of a database. The original membase source code was contributed by NorthScale, and project co-sponsors Zynga and Naver Corporation (then known as NHN) to a new project on membase.org in June 2010.
On February 8, 2011, the Membase project founders and Membase, Inc. announced a merger with CouchOne (a company with many of the principal players behind CouchDB) with an associated project merger. The merged company was called Couchbase, Inc. In January 2012, Couchbase released Couchbase Server 1.8. 
In September of 2012, Orbitz said it had changed some of its systems to use Couchbase.
In December of 2012, Couchbase Server 2.0 (announced in July 2011) was released and included a new JSON document store, indexing and querying, incremental MapReduce and replication across data centers.


== Architecture ==
Every Couchbase node consists of a data service, index service, query service, and cluster manager component. Starting with the 4.0 release, the three services can be distributed to run on separate nodes of the cluster if needed.
In the parlance of Eric Brewer's CAP theorem, Couchbase is normally a CP type system meaning it provides consistency and partition tolerance, or it can be set up as an AP system with multiple clusters.


=== Cluster manager ===
The cluster manager supervises the configuration and behavior of all the servers in a Couchbase cluster. It configures and supervises inter-node behavior like managing replication streams and re-balancing operations. It also provides metric aggregation and consensus functions for the cluster, and a RESTful cluster management interface. The cluster manager uses the Erlang programming language and the Open Telecom Platform.


==== Replication and fail-over ====
Data replication within the nodes of a cluster can be controlled with several parameters.
In December of 2012, support was added for replication between different data centers.


=== Data manager ===
The data manager stores and retrieves documents in response to data operations from applications.
It asynchronously writes data to disk after acknowledging to the client.  In version 1.7 and later, applications can optionally ensure data is written to more than one server or to disk before acknowledging a write to the client.
Parameters define item ages that affect when data is persisted, and how max memory and migration from main-memory to disk is handled.
It supports working sets greater than a memory quota per "node" or "bucket".
External systems can subscribe to filtered data streams, supporting, for example, full text search indexing, data analytics or archiving.


==== Data format ====
A document is the most basic unit of data manipulation in Couchbase Server. Documents are stored in JSON document format with no predefined schemas. Non-JSON documents can also be stored in Couchbase Server (binary, serialized values, XML, etc.)


==== Object-managed cache ====
Couchbase Server includes a built-in multi-threaded object-managed cache that implements memcached compatible APIs such as get, set, delete, append, prepend etc.


==== Storage engine ====
Couchbase Server has a tail-append storage design that is immune to data corruption, OOM killers or sudden loss of power.  Data is written to the data file in an append-only manner, which enables Couchbase to do mostly sequential writes for update, and provide an optimized access patterns for disk I/O.


=== Performance ===
A performance benchmark done by Altoros in 2012, compared Couchbase Server with other technologies.
Cisco Systems published a benchmark that measured the latency and throughput of Couchbase Server with a mixed workload in 2012.


== Licensing and support ==
Couchbase Server is a packaged version of Couchbase's open source software technology and is available in a community edition without recent bug fixes with an Apache 2.0 license and an edition for commercial use. 
Couchbase Server builds are available for Ubuntu, Debian, Red Hat, SUSE, Oracle Linux, Microsoft Windows and macOS operating systems.
Couchbase has supported software developers' kits for the programming languages .NET, PHP, Ruby, Python, C, Node.js, Java, Go, and Scala.


== SQL++ ==
A query language called SQL++ (formerly called N1QL), is used for manipulating the JSON data in Couchbase, just like SQL manipulates data in RDBMS. It has SELECT, INSERT, UPDATE, DELETE, MERGE statements to operate on JSON data.
It was initially announced in March 2015 as "SQL for documents".
The SQL++ data model is non-first normal form (N1NF) with support for nested attributes and domain-oriented normalization.  The SQL++ data model is also a proper superset and generalization of the relational model.


=== Example ===

Like query
SELECT * FROM `bucket` WHERE email LIKE "%@example.org";
Array query
SELECT * FROM `bucket` WHERE ANY x IN friends SATISFIES x.name = "Pavan" END;


== Couchbase Mobile ==
Couchbase Mobile / Couchbase Lite is a mobile database providing data replication.
Couchbase Lite (originally TouchDB) provides native libraries for offline-first NoSQL databases with built-in peer-to-peer or client-server replication mechanisms.
Sync Gateway manages secure access and synchronization of data between Couchbase Lite and Couchbase Server.
Couchbase Lite added support for Vector Search in version 3.2, allowing cloud to edge support for vector search in mobile applications.


== Uses ==
Couchbase began as an evolution of Memcached, a high-speed data cache, and can be used as a drop-in replacement for Memcached, providing high availability for memcached application without code changes.
Couchbase is used to support applications where a flexible data model, easy scalability, and consistent high performance are required, such as tracking real-time user activity or providing a store of user preferences or online applications.
Couchbase Mobile, which stores data locally on devices (usually mobile devices) is used to create “offline-first” applications that can operate when a device is not connected to a network and synchronize with Couchbase Server once a network connection is re-established.
The Catalyst Lab at Northwestern University uses Couchbase Mobile to support the Evo application, a healthy lifestyle research program where data is used to help participants improve dietary quality, physical activity, stress, or sleep.
Amadeus uses Couchbase with Apache Kafka to support their “open, simple, and agile” strategy to consume and integrate data on loyalty programs for airline and other travel partners. High scalability is needed when disruptive travel events create a need to recognize and compensate high value customers.
Starting in 2012, it played a role in LinkedIn's caching systems, including backend caching for recruiter and jobs products, counters for security defense mechanisms, for internal applications.


== Alternatives ==
For caching, Couchbase competes with Memcached and Redis.
For document databases, Couchbase competes with other document-oriented database systems. It is commonly compared with MongoDB, Amazon DynamoDB, Oracle RDBMS, DataStax, Google Bigtable, MariaDB, IBM Cloudant, Redis Enterprise, SingleStore, and MarkLogic.


== Bibliography ==
Brown, MC (June 22, 2012). Getting Started with Couchbase Server (1st ed.). O'Reilly Media. p. 88. ISBN 978-1449331061.
Ostrovsky, David; Haji, Mohammed; Rodenski, Yaniv (November 26, 2015), Pro Couchbase Server 2nd ed. (2nd ed.), Apress, p. 349, ISBN 978-1484211861
Potsangbam, Henry (November 23, 2015), Learning Couchbase (1st ed.), Packt, p. 202, ISBN 978-1785288593
Vohra, Deepak (August 3, 2015), Pro Couchbase Development: A NoSQL Platform for the Enterprise (1st ed.), Apress, p. 331, ISBN 978-1484214350
Sangudi, Gerald; et al. (October 20, 2017), N1QL: A Practical Guide (2nd Edition) (2nd ed.), Self-published, p. 423
Vemulapalli, Sitaram; et al. (May 10, 2018), A Guide to N1QL features in Couchbase 5.5: Special Edition, Self-published, p. 112
Chamberlin, Don;  (Oct 19, 2018) SQL++ For SQL Users: A Tutorial, Couchbase


== References ==


== External links ==
Official website